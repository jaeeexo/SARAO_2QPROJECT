<!DOCTYPE html>
<html>
<head>
    <title>GWA Calculator</title>
    <link rel="stylesheet" href="style.css">
    <script defer src="https://pyscript.net/releases/2024.1.1/pyscript.js"></script>
</head>

<body>

    <div class="navbar">
        <a href="home.html">Home</a>
        <a href="calculator.html">GWA Calculator</a>
        <a href="clubs.html">Clubs</a>
    </div>

    <h1>GWA Calculator</h1>

    <label>First Name:</label>
    <input type="text" id="fname">

    <label>Last Name:</label>
    <input type="text" id="lname">

    <h3>Enter Grades</h3>
    <input id="science" placeholder="Science">
    <input id="math" placeholder="Math">
    <input id="english" placeholder="English">
    <input id="filipino" placeholder="Filipino">
    <input id="ict" placeholder="ICT">
    <input id="pe" placeholder="PE">

    <button onclick="calculate_gwa()">Calculate</button>

    <div id="output"></div>

    <py-script>
def calculate_gwa():
    fname = Element("fname").value.strip()
    lname = Element("lname").value.strip()

    subjects = ["Science", "Math", "English", "Filipino", "ICT", "PE"]
    grades = []

    for subj in subjects:
        value = Element(subj.lower()).value
        if value:
            grades.append(float(value))
        else:
            grades.append(0.0)

    units = (1, 1, 1, 1, 1, 1)
    total_units = sum(units)
    weighted_sum = sum(g * u for g, u in zip(grades, units))
    gwa = weighted_sum / total_units if total_units > 0 else 0

    output = f"Name: {fname} {lname}<br><br>"
    for subj, grade in zip(subjects, grades):
        output += f"{subj}: {grade}<br>"
    output += f"<br>Your general weighted average is {gwa:.2f}<br>"

    Element("output").element.innerHTML = output
    </py-script>

</body>
</html>
