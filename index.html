def calculate_gwa():
    # Get input values from the HTML fields
    fname = Element("fname").value.strip()
    lname = Element("lname").value.strip()

    subjects = ["Science", "Math", "English", "Filipino", "ICT", "PE"]
    grades = []

    # Collect grades from inputs
    for subj in subjects:
        value = Element(subj.lower()).value
        if value:
            grades.append(float(value))
        else:
            grades.append(0.0)

    # Tuple of units (each subject has 1 unit here)
    units = (1, 1, 1, 1, 1, 1)

    # Calculate weighted average
    total_units = sum(units)
    weighted_sum = sum(g * u for g, u in zip(grades, units))
    gwa = weighted_sum / total_units if total_units > 0 else 0

    # Format output
    output = f"<b>Name:</b> {fname} {lname}<br><br>"
    for subj, grade in zip(subjects, grades):
        output += f"{subj}: {grade}<br>"
    output += f"<div class='average-box'>Your general weighted average is {gwa:.2f}</div>"

    Element("output").element.innerHTML = output